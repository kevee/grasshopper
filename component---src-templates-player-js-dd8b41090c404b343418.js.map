{"version":3,"sources":["webpack:///./src/templates/player.js","webpack:///./src/utilities/player-games.js","webpack:///./src/components/layout/index.js","webpack:///./src/components/common/container.js"],"names":["player","data","allAirtable","nodes","getPlayerGames","games","lifetimeScore","lifetimeGames","gameList","Object","values","sort","a","b","Date","title","Player_Name","Nickname","Bio","Glamor_Shot","src","url","alt","map","game","to","recordId","Game_League","League_slug","Name","score","Scores","forEach","Game","Score","Number_of_hops","Hops","hop","children","Container","styled","div","bp","maxWidth","margin","TextContainer"],"mappings":"8FAAA,gFAMe,sBAAe,IAEtBA,EAFqB,EAAXC,KACRC,YACmBC,MAAM,GAAGF,KAFT,EAGqBG,YAAeJ,GAAvDK,EAHmB,EAGnBA,MAAOC,EAHY,EAGZA,cAAeC,EAHH,EAGGA,cACxBC,EAAWC,OAAOC,OAAOL,GAAOM,MAAK,SAACC,EAAGC,GAC7C,OAAOD,EAAEE,KAAOD,EAAEC,MAAQ,EAAI,KAGhC,OACE,kBAAC,IAAD,CAAQC,MAAOf,EAAOgB,aACpB,kBAAC,IAAD,KACE,4BAAKhB,EAAOiB,UACZ,2BACE,mDACCX,GAEH,2BACE,mDACCC,GAEH,4BAAKP,EAAOgB,aACZ,2BAAIhB,EAAOkB,KACVlB,EAAOmB,aAAe,yBAAKC,IAAKpB,EAAOmB,YAAY,GAAGE,IAAKC,IAAI,KAChE,qCACA,+BACE,+BACE,4BACE,oCACA,sCACA,uCAGJ,+BACGd,EAASe,KAAI,SAAAC,GAAI,OAChB,4BACE,4BACE,kBAAC,OAAD,CAAMC,GAAE,SAAWD,EAAKE,UAAaF,EAAKV,OAE5C,4BACE,kBAAC,OAAD,CAAMW,GAAE,UAAYD,EAAKG,YAAY,GAAG1B,KAAK2B,aAC1CJ,EAAKG,YAAY,GAAG1B,KAAK4B,OAG9B,4BAAKL,EAAKM,iB,oCCjDX,aAAA9B,GACb,IAAMK,EAAQ,GACVC,EAAgB,EAChBC,EAAgB,EA+BpB,OA9BIP,EAAO+B,QACT/B,EAAO+B,OAAOC,SAAQ,SAAAF,GAChBA,EAAM7B,KAAKgC,OACb3B,GAAiBwB,EAAM7B,KAAKiC,MAC5B3B,GAAiBuB,EAAM7B,KAAKgC,KAAK,GAAGhC,KAAKkC,eAAiB,EAC1D9B,EAAMyB,EAAM7B,KAAKgC,KAAK,GAAGP,UAAzB,eACEA,SAAUI,EAAM7B,KAAKgC,KAAK,GAAGP,UAC1BI,EAAM7B,KAAKgC,KAAK,GAAGhC,KAFxB,CAGE6B,MAAOA,EAAM7B,KAAKiC,YAKtBlC,EAAOoC,MACTpC,EAAOoC,KAAKJ,SAAQ,SAAAK,GACdA,EAAIpC,KAAKgC,OACX3B,GAAiB+B,EAAIpC,KAAKiC,MAC1B3B,GAAiB8B,EAAIpC,KAAKgC,KAAK,GAAGhC,KAAKkC,eAAiB,OACR,IAArC9B,EAAMgC,EAAIpC,KAAKgC,KAAK,GAAGP,UAChCrB,EAAMgC,EAAIpC,KAAKgC,KAAK,GAAGP,UAAvB,eACEA,SAAUW,EAAIpC,KAAKgC,KAAK,GAAGP,UACxBW,EAAIpC,KAAKgC,KAAK,GAAGhC,KAFtB,CAGE6B,MAAOO,EAAIpC,KAAKiC,QAGlB7B,EAAMgC,EAAIpC,KAAKgC,KAAK,GAAGP,UAAUI,OAASO,EAAIpC,KAAKiC,UAKpD,CAAE7B,QAAOC,gBAAeC,mB,oCClCjC,mFAOe,oBAAGQ,EAAH,EAAGA,MAAOuB,EAAV,EAAUA,SAAV,OACb,oCACE,kBAAC,IAAD,MACA,kBAAC,IAAD,CAAKvB,MAAOA,IACZ,kBAAC,IAAD,CAAQA,MAAOA,IACf,8BACE,kBAAC,IAAD,MACCuB,M,kJCXDC,EAAYC,UAAOC,IAAV,kCACXC,YAAG,CACHC,SAAU,CAAC,OAAQ,OAAQ,UAC3BC,OAAQ,CAAC,SAAU,SAAU,aAI3BC,EAAgBL,UAAOC,IAAV,kCACfC,YAAG,CACHC,SAAU,CAAC,OAAQ,OAAQ,QAC3BC,OAAQ,CAAC,SAAU,SAAU","file":"component---src-templates-player-js-dd8b41090c404b343418.js","sourcesContent":["import React from 'react'\nimport { Link, graphql } from 'gatsby'\nimport Layout from '../components/layout'\nimport { Container } from '../components/common/container'\nimport getPlayerGames from '../utilities/player-games'\n\nexport default ({ data }) => {\n  const { allAirtable } = data\n  const player = allAirtable.nodes[0].data\n  const { games, lifetimeScore, lifetimeGames } = getPlayerGames(player)\n  const gameList = Object.values(games).sort((a, b) => {\n    return a.Date > b.Date ? -1 : 1\n  })\n\n  return (\n    <Layout title={player.Player_Name}>\n      <Container>\n        <h1>{player.Nickname}</h1>\n        <p>\n          <strong>Lifetime score:</strong>\n          {lifetimeScore}\n        </p>\n        <p>\n          <strong>Lifetime games:</strong>\n          {lifetimeGames}\n        </p>\n        <h3>{player.Player_Name}</h3>\n        <p>{player.Bio}</p>\n        {player.Glamor_Shot && <img src={player.Glamor_Shot[0].url} alt=\"\" />}\n        <h2>Games</h2>\n        <table>\n          <thead>\n            <tr>\n              <th>Date</th>\n              <th>League</th>\n              <th>Score</th>\n            </tr>\n          </thead>\n          <tbody>\n            {gameList.map(game => (\n              <tr>\n                <td>\n                  <Link to={`/game/${game.recordId}`}>{game.Date}</Link>\n                </td>\n                <td>\n                  <Link to={`/leage/${game.Game_League[0].data.League_slug}`}>\n                    {game.Game_League[0].data.Name}\n                  </Link>\n                </td>\n                <td>{game.score}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </Container>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    allAirtable(\n      filter: { table: { eq: \"Players\" }, data: { Player_slug: { eq: $slug } } }\n    ) {\n      nodes {\n        data {\n          Player_Name\n          Player_slug\n          League {\n            data {\n              Name\n            }\n          }\n          Nickname\n          Bio\n          Glamor_Shot {\n            url\n            thumbnails {\n              large {\n                url\n              }\n              full {\n                url\n              }\n            }\n          }\n          Scores {\n            data {\n              Score\n              Game {\n                recordId\n                data {\n                  Date\n                  Number_of_hops\n                  Game_League {\n                    data {\n                      Name\n                      League_slug\n                    }\n                  }\n                }\n              }\n            }\n          }\n          Hops {\n            data {\n              Score\n              Game {\n                recordId\n                data {\n                  Date\n                  Number_of_hops\n                  Game_League {\n                    data {\n                      Name\n                      League_slug\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n","export default player => {\n  const games = {}\n  let lifetimeScore = 0\n  let lifetimeGames = 0\n  if (player.Scores) {\n    player.Scores.forEach(score => {\n      if (score.data.Game) {\n        lifetimeScore += score.data.Score\n        lifetimeGames += score.data.Game[0].data.Number_of_hops / 3\n        games[score.data.Game[0].recordId] = {\n          recordId: score.data.Game[0].recordId,\n          ...score.data.Game[0].data,\n          score: score.data.Score,\n        }\n      }\n    })\n  }\n  if (player.Hops) {\n    player.Hops.forEach(hop => {\n      if (hop.data.Game) {\n        lifetimeScore += hop.data.Score\n        lifetimeGames += hop.data.Game[0].data.Number_of_hops / 3\n        if (typeof games[hop.data.Game[0].recordId] === 'undefined') {\n          games[hop.data.Game[0].recordId] = {\n            recordId: hop.data.Game[0].recordId,\n            ...hop.data.Game[0].data,\n            score: hop.data.Score,\n          }\n        } else {\n          games[hop.data.Game[0].recordId].score += hop.data.Score\n        }\n      }\n    })\n  }\n  return { games, lifetimeScore, lifetimeGames }\n}\n","import React from 'react'\nimport SEO from './seo'\nimport { SkipNavLink, SkipNavContent } from '@reach/skip-nav'\nimport '@reach/skip-nav/styles.css'\nimport Header from './header'\nimport '../../style/global.css'\n\nexport default ({ title, children }) => (\n  <>\n    <SkipNavLink />\n    <SEO title={title} />\n    <Header title={title} />\n    <main>\n      <SkipNavContent />\n      {children}\n    </main>\n  </>\n)\n","import bp from '../../style/breakpoints'\nimport styled from '@emotion/styled'\n\nconst Container = styled.div`\n  ${bp({\n    maxWidth: ['100%', '100%', '1100px'],\n    margin: ['0 1rem', '0 1rem', '0 auto'],\n  })}\n`\n\nconst TextContainer = styled.div`\n  ${bp({\n    maxWidth: ['100%', '100%', '60ch'],\n    margin: ['0 1rem', '0 1rem', '0 auto'],\n  })}\n`\n\nexport { Container, TextContainer }\n"],"sourceRoot":""}